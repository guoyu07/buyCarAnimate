<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ballCart</title>
	<style type="text/css">
		body{
			position: relative;
			margin: 0;
			padding: 0;
		}
		.rightMenu{
			position: fixed;
			width: 30px;
			height:100%;
			right: 0;
			bottom: 0;
			top:0;
			background: #ccc;
		}
		#cart{
			text-align: center;
			position: absolute;
			top: 50%;
			background: #fff;
		}
		#content{
			width: 400px;
			height: 400px;
			position: relative;
			bottom: 0;
		}

	</style>
	
</head>
<body>
	<div id="content"></div>
	<button class="addToCart" onclick="Animate(event)">添加到购物车</button>
	<div class="rightMenu">
		<div id="cart">购物车</div>
	</div>
	<script type="text/javascript">
			var cart=document.getElementById("cart");
			var cart1=document.getElementsByClassName("rightMenu")[0];
			var endX=cart1.offsetLeft;
			var endY=cart.offsetTop;
			var count=0;
			function initBall(width,height,len){
				var ball=document.createElement('div');
				ball.style.width=width+"px";
				ball.style.height=height+"px";
				ball.style.borderRadius=len+"%";
				ball.style.backgroundColor="red";
				return ball;
			}
			function Animate(event){
				event.preventDefault();
				event.stopPropagation();
				console.log(event.target.offsetTop);
				var ball=initBall(20,20,50);
				var con=document.getElementById('content');
				con.appendChild(ball);
				var timer=setInterval(function run(){
					move(count,ball,endX,endY);
					count+=10;
				},10);
				
			}
			function move(x,ball,endX,endY){
				if(x<=endX){
					var a=-(endY/(endX*endX));
					var y=-(a*x*x);
					//console.log(y);
					ball.style.position="absolute";
					ball.style.left=x+'px';
					ball.style.top=y+'px';
				}else{
					ball.style.display="none";
					count=0;
				}
				
				
			}
			
	</script>
</body>
</html>